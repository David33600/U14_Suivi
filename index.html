<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Suivi Match U14</title>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- PWA Meta tags -->
    <meta name="theme-color" content="#2563eb">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Match U14">
    
    <style>
        body {
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -webkit-tap-highlight-color: transparent;
            font-family: system-ui, -apple-system, sans-serif;
        }
        
        input, select {
            -webkit-user-select: text;
            user-select: text;
        }
        
        .touch-friendly {
            min-height: 44px;
            min-width: 44px;
        }
        
        .stat-card {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            padding: 16px;
            margin-bottom: 12px;
        }
        
        .stat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .stat-buttons {
            display: flex;
            gap: 8px;
        }
        
        .btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 6px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .btn-green {
            background: #10b981;
            color: white;
        }
        
        .btn-green:hover {
            background: #059669;
        }
        
        .btn-red {
            background: #ef4444;
            color: white;
        }
        
        .btn-red:hover {
            background: #dc2626;
        }
        
        .timer-display {
            font-size: 2rem;
            font-weight: bold;
            color: #2563eb;
        }
        
        .section-title {
            font-weight: 600;
            color: #374151;
            border-bottom: 1px solid #e5e7eb;
            padding-bottom: 4px;
            margin-bottom: 12px;
        }
    </style>
</head>
<body class="bg-gray-50">
    <div class="max-w-md mx-auto min-h-screen bg-gray-50">
        <!-- Header -->
        <div class="bg-blue-600 text-white p-4">
            <h1 class="text-xl font-bold text-center">Suivi Match U14</h1>
        </div>

        <!-- Player Info -->
        <div class="p-4 bg-white border-b">
            <div class="grid grid-cols-2 gap-3 mb-3">
                <input
                    type="text"
                    id="playerName"
                    placeholder="Nom du joueur"
                    class="border rounded-md px-3 py-2 text-sm touch-friendly"
                />
                <input
                    type="number"
                    id="playerNumber"
                    placeholder="N°"
                    class="border rounded-md px-3 py-2 text-sm touch-friendly"
                />
            </div>
            <div class="grid grid-cols-2 gap-3 mb-3">
                <select id="playerPosition" class="border rounded-md px-3 py-2 text-sm touch-friendly">
                    <option value="Gardien">Gardien</option>
                    <option value="Défenseur">Défenseur</option>
                    <option value="Milieu" selected>Milieu</option>
                    <option value="Attaquant">Attaquant</option>
                </select>
                <input
                    type="text"
                    id="opponent"
                    placeholder="Adversaire"
                    class="border rounded-md px-3 py-2 text-sm touch-friendly"
                />
            </div>
        </div>

        <!-- Timer -->
        <div class="p-4 bg-white border-b">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-2">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#2563eb" stroke-width="2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <polyline points="12,6 12,12 16,14"></polyline>
                    </svg>
                    <span class="font-medium">Temps de jeu</span>
                </div>
                <div class="timer-display" id="timerDisplay">00:00</div>
            </div>
            <div class="flex gap-2 mt-3">
                <button onclick="startTimer()" class="btn btn-green">
                    ▶ Start
                </button>
                <button onclick="pauseTimer()" class="btn bg-yellow-500 text-white hover:bg-yellow-600">
                    ⏸ Pause
                </button>
                <button onclick="resetTimer()" class="btn btn-red">
                    ↻ Reset
                </button>
            </div>
        </div>

        <!-- Statistics -->
        <div class="p-4">
            <h2 class="text-lg font-bold text-gray-800 mb-4">Statistiques</h2>
            
            <!-- Attack Stats -->
            <div class="mb-6">
                <h3 class="section-title">Attaque</h3>
                
                <div class="stat-card">
                    <div class="stat-header">
                        <span class="font-medium text-sm">Buts</span>
                        <span class="px-2 py-1 rounded-full text-white text-lg font-bold bg-green-600" id="goals">0</span>
                    </div>
                    <div class="stat-buttons">
                        <button class="btn btn-green" onclick="updateStat('goals', 1)">+</button>
                        <button class="btn btn-red" onclick="updateStat('goals', -1)">-</button>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-header">
                        <span class="font-medium text-sm">Passes décisives</span>
                        <span class="px-2 py-1 rounded-full text-white text-lg font-bold bg-blue-600" id="assists">0</span>
                    </div>
                    <div class="stat-buttons">
                        <button class="btn btn-green" onclick="updateStat('assists', 1)">+</button>
                        <button class="btn btn-red" onclick="updateStat('assists', -1)">-</button>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-header">
                        <span class="font-medium text-sm">Tirs</span>
                        <span class="px-2 py-1 rounded-full text-white text-lg font-bold bg-orange-500" id="shots">0</span>
                    </div>
                    <div class="stat-buttons">
                        <button class="btn btn-green" onclick="updateStat('shots', 1)">+</button>
                        <button class="btn btn-red" onclick="updateStat('shots', -1)">-</button>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-header">
                        <span class="font-medium text-sm">Tirs cadrés</span>
                        <span class="px-2 py-1 rounded-full text-white text-lg font-bold bg-orange-600" id="shotsOnTarget">0</span>
                    </div>
                    <div class="stat-buttons">
                        <button class="btn btn-green" onclick="updateStat('shotsOnTarget', 1)">+</button>
                        <button class="btn btn-red" onclick="updateStat('shotsOnTarget', -1)">-</button>
                    </div>
                </div>
            </div>

            <!-- Passing Stats -->
            <div class="mb-6">
                <h3 class="section-title">Passes</h3>
                
                <div class="stat-card">
                    <div class="stat-header">
                        <span class="font-medium text-sm">Passes tentées</span>
                        <span class="px-2 py-1 rounded-full text-white text-lg font-bold bg-purple-500" id="passes">0</span>
                    </div>
                    <div class="stat-buttons">
                        <button class="btn btn-green" onclick="updateStat('passes', 1)">+</button>
                        <button class="btn btn-red" onclick="updateStat('passes', -1)">-</button>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-header">
                        <span class="font-medium text-sm">Passes réussies</span>
                        <span class="px-2 py-1 rounded-full text-white text-lg font-bold bg-purple-600" id="successfulPasses">0</span>
                    </div>
                    <div class="stat-buttons">
                        <button class="btn btn-green" onclick="updateStat('successfulPasses', 1)">+</button>
                        <button class="btn btn-red" onclick="updateStat('successfulPasses', -1)">-</button>
                    </div>
                </div>

                <div class="text-sm text-gray-600 text-center mb-4">
                    Précision: <span id="passAccuracy">0</span>%
                </div>
            </div>

            <!-- Defense Stats -->
            <div class="mb-6">
                <h3 class="section-title">Défense</h3>
                
                <div class="stat-card">
                    <div class="stat-header">
                        <span class="font-medium text-sm">Tacles</span>
                        <span class="px-2 py-1 rounded-full text-white text-lg font-bold bg-indigo-600" id="tackles">0</span>
                    </div>
                    <div class="stat-buttons">
                        <button class="btn btn-green" onclick="updateStat('tackles', 1)">+</button>
                        <button class="btn btn-red" onclick="updateStat('tackles', -1)">-</button>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-header">
                        <span class="font-medium text-sm">Interceptions</span>
                        <span class="px-2 py-1 rounded-full text-white text-lg font-bold bg-indigo-500" id="interceptions">0</span>
                    </div>
                    <div class="stat-buttons">
                        <button class="btn btn-green" onclick="updateStat('interceptions', 1)">+</button>
                        <button class="btn btn-red" onclick="updateStat('interceptions', -1)">-</button>
                    </div>
                </div>
            </div>

            <!-- Discipline -->
            <div class="mb-6">
                <h3 class="section-title">Discipline</h3>
                
                <div class="stat-card">
                    <div class="stat-header">
                        <span class="font-medium text-sm">Fautes</span>
                        <span class="px-2 py-1 rounded-full text-white text-lg font-bold bg-yellow-500" id="fouls">0</span>
                    </div>
                    <div class="stat-buttons">
                        <button class="btn btn-green" onclick="updateStat('fouls', 1)">+</button>
                        <button class="btn btn-red" onclick="updateStat('fouls', -1)">-</button>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-header">
                        <span class="font-medium text-sm">Cartons jaunes</span>
                        <span class="px-2 py-1 rounded-full text-white text-lg font-bold bg-yellow-600" id="yellowCards">0</span>
                    </div>
                    <div class="stat-buttons">
                        <button class="btn btn-green" onclick="updateStat('yellowCards', 1)">+</button>
                        <button class="btn btn-red" onclick="updateStat('yellowCards', -1)">-</button>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-header">
                        <span class="font-medium text-sm">Cartons rouges</span>
                        <span class="px-2 py-1 rounded-full text-white text-lg font-bold bg-red-600" id="redCards">0</span>
                    </div>
                    <div class="stat-buttons">
                        <button class="btn btn-green" onclick="updateStat('redCards', 1)">+</button>
                        <button class="btn btn-red" onclick="updateStat('redCards', -1)">-</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Events Timeline -->
        <div id="eventsSection" class="p-4 bg-white border-t hidden">
            <h3 class="font-medium text-gray-700 mb-3">Chronologie du match</h3>
            <div id="eventsList" class="space-y-2 max-h-40 overflow-y-auto">
            </div>
        </div>

        <!-- Summary -->
        <div class="p-4 bg-blue-50 border-t mb-4">
            <h3 class="font-medium text-gray-700 mb-2">Résumé de performance</h3>
            <div class="text-sm text-gray-600 space-y-1">
                <div>Actions offensives: <span id="offensiveActions">0</span></div>
                <div>Actions défensives: <span id="defensiveActions">0</span></div>
                <div>Efficacité passes: <span id="passEfficiency">N/A</span></div>
                <div>Efficacité tirs: <span id="shotEfficiency">N/A</span></div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let timer = {
            minutes: 0,
            seconds: 0,
            isRunning: false,
            startTime: null,
            interval: null
        };

        let stats = {
            goals: 0,
            assists: 0,
            shots: 0,
            shotsOnTarget: 0,
            passes: 0,
            successfulPasses: 0,
            tackles: 0,
            interceptions: 0,
            fouls: 0,
            yellowCards: 0,
            redCards: 0
        };

        let events = [];

        // Timer functions
        function startTimer() {
            if (!timer.isRunning) {
                timer.isRunning = true;
                timer.startTime = Date.now() - (timer.minutes * 60 + timer.seconds) * 1000;
                timer.interval = setInterval(updateTimer, 1000);
            }
        }

        function pauseTimer() {
            if (timer.isRunning) {
                timer.isRunning = false;
                clearInterval(timer.interval);
            }
        }

        function resetTimer() {
            timer.isRunning = false;
            timer.minutes = 0;
            timer.seconds = 0;
            timer.startTime = null;
            clearInterval(timer.interval);
            updateTimerDisplay();
        }

        function updateTimer() {
            if (timer.isRunning) {
                const now = Date.now();
                const elapsed = Math.floor((now - timer.startTime) / 1000);
                timer.minutes = Math.floor(elapsed / 60);
                timer.seconds = elapsed % 60;
                updateTimerDisplay();
            }
        }

        function updateTimerDisplay() {
            const display = document.getElementById('timerDisplay');
            display.textContent = 
                timer.minutes.toString().padStart(2, '0') + ':' + 
                timer.seconds.toString().padStart(2, '0');
        }

        // Statistics functions
        function updateStat(statKey, change) {
            const newValue = Math.max(0, stats[statKey] + change);
            stats[statKey] = newValue;
            
            document.getElementById(statKey).textContent = newValue;
            
            if (change > 0) {
                addEvent(statKey);
            }
            
            updateSummary();
        }

        function addEvent(statKey) {
            const actionMap = {
                goals: 'But marqué',
                assists: 'Passe décisive',
                shots: 'Tir tenté',
                shotsOnTarget: 'Tir cadré',
                passes: 'Passe tentée',
                successfulPasses: 'Passe réussie',
                tackles: 'Tacle',
                interceptions: 'Interception',
                fouls: 'Faute commise',
                yellowCards: 'Carton jaune',
                redCards: 'Carton rouge'
            };

            const timeStamp = timer.minutes.toString().padStart(2, '0') + ':' + 
                            timer.seconds.toString().padStart(2, '0');
            
            events.push({
                time: timeStamp,
                description: actionMap[statKey],
                id: Date.now()
            });

            updateEventsList();
        }

        function updateEventsList() {
            const eventsList = document.getElementById('eventsList');
            const eventsSection = document.getElementById('eventsSection');
            
            if (events.length > 0) {
                eventsSection.classList.remove('hidden');
                
                const recentEvents = events.slice(-5).reverse();
                eventsList.innerHTML = recentEvents.map(event => `
                    <div class="flex justify-between items-center text-sm bg-gray-50 p-2 rounded">
                        <span class="font-medium text-blue-600">${event.time}</span>
                        <span class="text-gray-700">${event.description}</span>
                    </div>
                `).join('');
            }
        }

        function updateSummary() {
            // Update pass accuracy
            const passAccuracy = stats.passes > 0 ? 
                Math.round((stats.successfulPasses / stats.passes) * 100) : 0;
            document.getElementById('passAccuracy').textContent = passAccuracy;

            // Update offensive actions
            const offensiveActions = stats.goals + stats.assists + stats.shots;
            document.getElementById('offensiveActions').textContent = offensiveActions;

            // Update defensive actions
            const defensiveActions = stats.tackles + stats.interceptions;
            document.getElementById('defensiveActions').textContent = defensiveActions;

            // Update pass efficiency
            const passEfficiency = stats.passes > 0 ? passAccuracy + '%' : 'N/A';
            document.getElementById('passEfficiency').textContent = passEfficiency;

            // Update shot efficiency
            const shotEfficiency = stats.shots > 0 ? 
                Math.round((stats.shotsOnTarget / stats.shots) * 100) + '%' : 'N/A';
            document.getElementById('shotEfficiency').textContent = shotEfficiency;
        }

        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            updateTimerDisplay();
            updateSummary();
        });
    </script>
</body>
</html>
